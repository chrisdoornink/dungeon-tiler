:root {
  --tile-size: 40px; /* 10 * 4px (tailwind w-10 h-10 equivalent) */
  --floor-bg: #c8c8c8;
  --wall-bg: #5a5a5a;
  --wall-border: #3a3a3a;
  --wall-shadow: #4a4a4a;
  --edge-highlight: #7a7a7a;
  --perspective-base: #1f1f1f;
  /* New derived wall colors from a light gray top */
  /* Use floor as the material; darken for vertical faces */
  --wall-top: color-mix(in srgb, var(--floor-bg) 90%, #000 10%); /* top face */
  --wall-side: color-mix(in srgb, var(--wall-top) 68%, #000 32%); /* side faces */
  --wall-bottom: color-mix(in srgb, var(--wall-top) 40%, #000 60%); /* bottom base */
}

.tileContainer {
  position: relative;
  width: var(--tile-size);
  height: var(--tile-size);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
}

/* Visibility tiers (kept as global tokens so tests can still see class names if needed) */
:global(.fov-tier-3) { filter: none; }
:global(.fov-tier-2) { filter: brightness(0.85); }
:global(.fov-tier-1) { filter: brightness(0.7); }

/* Keep border-b-8 token globally to satisfy tests and non-Tailwind runtime */
:global(.border-b-8) { border-bottom-width: 8px !important; border-bottom-style: solid; }
:global(.border-b-4) { border-bottom-width: 4px !important; border-bottom-style: solid; }
:global(.border-b-2) { border-bottom-width: 2px !important; border-bottom-style: solid; }
:global(.border-b-0) { border-bottom-width: 0px !important; border-bottom-style: solid; }

/* Specific color utility token we referenced */
:global(.border-b-\[\#1f1f1f\]) { border-bottom-color: var(--perspective-base) !important; }

/* Tailwind token used by tests for invisible tiles */
:global(.bg-gray-900) { background-color: #111827 !important; }

.floor {
  background-color: var(--floor-bg);
}

.wall {
  background-color: var(--wall-top);
  border: 1px solid var(--wall-side);
}

.wallInsetTexture {
  position: absolute;
  inset: 4px;
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: 2px;
  /* subtle inner bevel to emulate Zelda-like tile cap */
  background: 
    linear-gradient(to bottom, rgba(255,255,255,0.08), rgba(0,0,0,0.06));
}

/* Variant: wall_pillar (front perspective) */
.wallPillar {
  /* 70% bottom base for strong perspective: 28px on 40px tile */
  border-bottom-width: calc(var(--tile-size) * 0.7);
  border-bottom-style: solid;
  border-bottom-color: var(--wall-bottom); /* bottom face derived from top */

  /* Thin side faces (front view) */
  border-left: 2px solid var(--wall-side);
  border-right: 2px solid var(--wall-side);
}

/* Helpers for other variants */
.wallBase70 {
  border-bottom-width: calc(var(--tile-size) * 0.7);
  border-bottom-style: solid;
  border-bottom-color: var(--wall-bottom);
}

.wallEdgeL {
  border-left: 2px solid var(--wall-side);
}

.wallEdgeR {
  border-right: 2px solid var(--wall-side);
}

/* Edge highlights when no same-type neighbor */
.wallTopHighlight::after {
  content: "";
  position: absolute;
  top: 0;
  left: 2px;
  right: 2px;
  height: 1px;
  background: var(--edge-highlight);
}

.wallRightHighlight::before {
  content: "";
  position: absolute;
  right: 0;
  top: 2px;
  bottom: 2px;
  width: 1px;
  background: var(--edge-highlight);
}

/* Exaggerated base shadow strip */
.wallBaseShadow {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 8px; /* stronger visual than h-2 */
  background: linear-gradient(
    to bottom,
    color-mix(in srgb, var(--wall-bottom) 20%, #000 0%) 0%,
    color-mix(in srgb, var(--wall-bottom) 75%, #000 25%) 100%
  );
}

.player {
  background: #3b82f6; /* blue-500 */
  color: white;
}

.invisible {
  background: #111827; /* gray-900 */
}
